{"name":"Tray OpenCode","tagline":"Modelo para desenvolvimento de temas da plataforma de e-commerce Tray","body":"# Tray OpenCode\r\nEncontre tudo o que você precisa para desenvolver seu próprio tema utilizando a plataforma Tray. Se preferir poderá baixar o nosso modelo inicial disponível no [Github](https://github.com/tray-tecnologia/theme-template/archive/master.zip) ou cloná-lo: \r\n\r\n`git clone git@github.com:tray-tecnologia/theme-template.git nome-tema`\r\n\r\nDisponibilizamos também a instalação pelo Bower:\r\n\r\n`bower install tray-theme-template`\r\n\r\n**Importante:** _Não nos responsabilizamos pelo uso de variáveis, helpers e funções que não estão documentadas aqui. Elas podem passar por ajustes e mudanças sem aviso prévio._\r\n\r\nSeja cuidadoso ao utilizar variáveis ou parâmetros que estão com a nomenclatura em português, provavelmente será alterado para o inglês assim que possível. Avisaremos com antecedência sobre essas mudanças.\r\n\r\n## Estrutura do tema\r\nPara manter o desenvolvimento dos temas bem organizado, disponibilizamos uma estrutura enxuta e simples para seus arquivos. Veja a estrutura inicial:\r\n\r\n```\r\nelements/ -> trechos de código e componentes reutilizáveis\r\nlayouts/  -> estrutura do seu tema, código que será carregado em todas as páginas\r\npages/    -> conteúdo de cada página da sua loja\r\ncss/      -> você pode inserir suas folhas de estilo e webfonts\r\njs/       -> você pode inserir seus plugins js\r\nimg/      -> pasta de imagens\r\nconfigs/  -> opções da sua loja virtual\r\n```\r\n\r\n### Codificação de arquivos\r\nUtilize a codificação dos seus arquivos sempre UTF-8.\r\n\r\n## Variáveis e Helpers\r\nTodas as variáveis utilizam o seguinte padrão: `myVariable.variable_key`. Para exibir o nome do produto, você simplesmente fará a seguinte chamada: `{{ product.name }}`.\r\nMas, o que são esses caracteres `{{ }}`?\r\n\r\nNós utilizamos um [Template Engine](http://en.wikipedia.org/wiki/Template_processor) para renderização das views. Você precisará lembrar apenas de dois tipos de chamadas: `{{ }}` e `{% %}`. Veja os exemplos de utilização abaixo:\r\n\r\n##### Exemplos\r\nImprimindo variáveis:\r\n```twig\r\n{{ product.name }}\r\n```\r\n\r\n`if`:\r\n\r\n    {% if product.name %}\r\n        {{ product.name }}\r\n    {% endif %}\r\n\r\n`for`:\r\n\r\n    {% for image in product.images %}\r\n        <img src=\"{{ image.src }}\" alt=\"{{ product.name }}\">\r\n    {% endfor %}\r\n\r\nDeclarando variáveis:\r\n\r\n```twig\r\n{% set company = 'Tray' %}\r\n```\r\n\r\nSe quiser mais informações sobre a utilização do Template Engine, visite a seguinte página: [Documentação - Twig](http://twig.sensiolabs.org/doc/templates.html)\r\n\r\nVeja agora quais são as variáveis que você pode utilizar no seu tema:\r\n\r\nVariável       | Descrição\r\n-----------    | ---------\r\nbanners        | Lista de banners\r\ncategories     | Lista de categorias\r\ncart           | Dados contidos no carrinho (total de itens e valor total)\r\ncustomer       | Dados a respeito do consumidor que está navegando na loja\r\nlinks          | Links das páginas da loja (contato, login, etc...)\r\npages          | Lista de páginas cadastradas no Painel Administrativo (Páginas Personalizadas)\r\npaymentMethods | Lista de formas de pagamento configuradas no Painel Administrativo\r\nproducts       | Lista de produtos\r\nseals          | Selos de segurança que possuem integração com a Tray (ebit, hackersafe)\r\nsettings       | Opções da loja\r\nstore          | Dados da loja\r\ntags           | Lista de palavras mais buscadas\r\nthemePath      | Caminho absoluto do tema\r\nutils          | Utilidades técnicas (hash para assets, etc...)\r\n\r\nHelper      | Descrição\r\n------      | ---------\r\nbanner      | Exibe um banner pela posição solicitada\r\nImage       | Mostra uma imagem\r\nTranslation | Mostra um texto de acordo com o idioma configurado\r\n\r\n#### Banners\r\nPara imprimir um banner, você poderá utilizar o helper de banner, utilizando a seguinte chamada:\r\n\r\n```twig\r\n{{ banner.home }}\r\n{{ banner.footer }}\r\n```\r\n\r\n`home` e `footer` são as posições em que o banner foi cadastrado. Veja a lista de posições disponíveis: `home`, `footer`, `bottom`, `side`, `title`, `floating`, `popup`, `extra1`, `extra2`, `extra3`, `extra4`\r\n\r\n\r\nSe você deseja criar um banner da sua maneira, poderá trabalhar com as seguintes informações:\r\n\r\nChaves      | Descrição\r\n------      | ---------\r\nid          | Identificador único do banner\r\ntype        | Tipo do banner, valores possíveis: \"javascript\", \"image\", \"flash\", \"gallery\"\r\ndescription | Descrição do banner\r\nsrc         | URL do banner\r\nlink        | Link do banner (apenas nos tipos \"javascript\" e \"image\")\r\nwidth       | Largura da imagem ou do objeto flash\r\nheight      | Altura da imagem\r\nalt_text    | Texto alternativo para a imagem do banner\r\ntarget      | Se o link vai abrir em uma nova janela ou na mesma\r\nbanner_alt  | Banner alternativo caso não tenha suporte ao flash (apenas quando o tipo for \"flash\"), possui as chaves \"src\", \"link\", \"target\"\r\nmargin_top  | Especifica a posição do banner referente ao topo da página (apenas banner \"floating\")\r\nmargin_left | Especifica a posição do banner referente ao lado esquerdo da página\r\n\r\n##### Exemplos\r\nLembrando que o padrão de chamada é sempre: `banners.{position}.{key}`. Veja exemplos utilizando a posição `home`:\r\n\r\n```twig\r\n{{ banners.home.id }}\r\n{{ banners.home.type }}\r\n{{ banners.home.description }}\r\n{{ banners.home.src }}\r\n{{ banners.home.link }}\r\n{{ banners.home.width }}\r\n{{ banners.home.height }}\r\n{{ banners.home.alt_text }}\r\n{{ banners.home.target }}\r\n{{ banners.home.banner_alt.src }}\r\n{{ banners.home.banner_alt.link }}\r\n{{ banners.home.banner_alt.target }}\r\n```\r\n#### Cart\r\nInformações do carrinho de compras.\r\n\r\nChaves    | Descrição\r\n------    | ---------\r\namount    | Total de produtos no carrinho\r\nprice     | Valor total à pagar\r\n\r\n\r\n##### Exemplos\r\n\r\n```twig\r\n{{ cart.amount }}\r\n{{ cart.price }}\r\n```\r\n\r\n#### Categories\r\nInformações sobre as categorias cadastradas no Painel Administrativo.\r\n\r\nChaves      | Descrição\r\n------      | ---------\r\nid          | Identificador único da categoria\r\nparent      | Identificador único da categoria mãe\r\nname        | Nome da categoria\r\ndescription | Descrição da categoria\r\nchildren    | Categorias filhas\r\n\r\n##### Exemplos\r\n```twig\r\n{% for category in categories %}\r\n    {{ category.id }}\r\n    {{ category.parent }}\r\n    {{ category.name }}\r\n    {{ category.description }}\r\n    {{ category.link }}\r\n{% endfor %}\r\n```\r\n\r\n#### Customer\r\nDados do consumidor que está navegando na loja.\r\n\r\nChaves    | Descrição\r\n------    | ---------\r\nid        | Identificador único do cliente (se estiver logado)\r\nlogged    | Retorna se está logado ou não\r\nname      | Nome completo do cliente\r\nemail     | E-mail do cliente\r\n\r\n##### Exemplos\r\n```twig\r\n{{ customer.logged }}\r\n{{ customer.name }}\r\n{{ customer.id }}\r\n{{ customer.email }}\r\n```\r\n\r\n#### Images\r\nUse esse helper para exibir uma imagem cadastrada no Painel Administrativo ou uma imagem que está na pasta `img/` do seu tema.\r\n\r\n##### Exemplos\r\n```twig\r\n<img src=\"{{ Image('logo') }}\" alt=\"{{ store.name }}\">\r\n<img src=\"{{ Image('buttons/my-button.png') }}\" alt=\"\">\r\n```\r\n\r\n#### Links\r\nUtilize juntamente com a tag `<a>`, ex: `<a href=\"{{ links.home }}\">Página Inicial</a>`.\r\n\r\nChaves             | Descrição\r\n------             | ---------\r\nsearch             | Página de busca\r\nsearch_by_brand    | Página de busca por marca\r\nhome               | Página inicial\r\ncompany            | Página com informações sobre a loja/empresa\r\ncontact            | Página de contato\r\ncart               | Página do carrinho de compras\r\ninfo               | Página de informações gerais sobre os processos da loja\r\ninfo_buy           | Âncora de informações sobre compra\r\nsecurity           | Âncora de informações sobre segurança\r\nwarranty           | Âncora de informações sobre garantia\r\nsend               | Âncora de informações sobre envio\r\npayment            | Âncora de informações sobre pagamento\r\nnewsletter         | Página de cadastro de newletter\r\nmap                | Página mapa do site\r\nsign_in            | Página de cadastro\r\ncentral            | Página da central do cliente\r\nlogin              | Página de login\r\norders             | Página de pedidos\r\norders_tracking    | Página de rastreio de pedidos\r\norders_return      | Página de trocas/devoluções\r\npayment_confirm    | Página de confirmação de pagamento\r\naccount            | Página central do cliente\r\naccount_password   | Página de alteração de senha\r\nlogout             | Página de logout\r\n\r\n```twig\r\n<a href=\"{{ links.search }}\">Buscar</a>\r\n<a href=\"{{ links.search_by_brand }}tray\">Buscar pela marca \"tray\"</a>\r\n<a href=\"{{ links.home }}\">Página Inicial</a>\r\n<a href=\"{{ links.company }}\">Empresa</a>\r\n<a href=\"{{ links.contact }}\">Fale conosco</a>\r\n<a href=\"{{ links.cart }}\">Carrinho de compras</a>\r\n<a href=\"{{ links.info }}\">Mais informações</a>\r\n<a href=\"{{ links.info_buy }}\">Como comprar</a>\r\n<a href=\"{{ links.security }}\">Segurança</a>\r\n<a href=\"{{ links.warranty }}\">Garantia</a>\r\n<a href=\"{{ links.send }}\">Envio</a>\r\n<a href=\"{{ links.payment }}\">Pagamento</a>\r\n<a href=\"{{ links.newsletter }}\">Inscreva-se para receber novidades</a>\r\n<a href=\"{{ links.map }}\">Mapa do site</a>\r\n<a href=\"{{ links.sign_in }}\">Cadastre-se</a>\r\n<a href=\"{{ links.central }}\">Central do cliente</a>\r\n<a href=\"{{ links.login }}\">Entrar</a>\r\n<a href=\"{{ links.orders }}\">Meus pedidos</a>\r\n<a href=\"{{ links.logout }}\">Sair</a>\r\n```\r\n\r\n#### Pages\r\nContém informações das páginas da loja.\r\n\r\nChaves     | Descrição\r\n------     | ---------\r\ncurrent    | Em qual página o usuário está navegando, ex: `home`\r\ncustom     | Páginas personalizadas cadastradas no Painel Administrativo\r\n\r\n##### Exemplos\r\n```twig\r\n{% if pages.current == 'home' %}\r\n    Você está na nossa página inicial, navegue na nossa loja!\r\n{% endif %}\r\n\r\n{% for custom in pages.custom %}\r\n    <a href=\"{{ custom.url }}\">{{ custom.name }}</a>\r\n{% endfor %}\r\n```\r\n\r\n#### Payment Methods\r\nInformações de formas de pagamento cadastradas no Painel Administrativo.\r\n\r\nChaves | Descrição\r\n------ | ---------\r\norder  | Formas de pagamento à vista\r\ncredit | Formas de pagamento à prazo\r\n\r\nSub-chaves  | Descrição\r\n----------  | ---------\r\nthumb       | Caminho da imagem da forma de pagamento\r\ndescription | Descrição da forma de pagamento\r\n\r\n##### Exemplos\r\n```twig\r\n{% for payment in paymentMethods.order %}\r\n    <img src=\"{{ payment.thumb }}\" alt=\"{{ payment.description }}\" title=\"{{ payment.description }}\">\r\n{% endfor %}\r\n```\r\n\r\nNesse exemplo acima, iteramos por todas as formas de pagamento à vista e exibimos a imagem referente a cada forma.\r\n\r\n#### Products\r\nInformações sobre os produtos cadastrados no Painel Administrativo.\r\n\r\n##### Buscando produtos\r\nPara buscar produtos de acordo com as suas necessidades, utilize a seguinte chamada:\r\n\r\n```twig\r\n{% set products = Products({\r\n    'filter': 'featured',\r\n    'limit': 8,\r\n    'order': {'quantity_sold': 'desc'},\r\n    'categories': 1,\r\n    'brands': 'Tray'\r\n}) %}\r\n```\r\n\r\nA chamada acima retornará até **8** produtos em **destaque** ordenados pelos **mais vendidos** que estejam cadastrados na **categoria 1** e **marca Tray**. Veja mais parâmetros disponíveis abaixo:\r\n\r\n##### Parâmetros disponíveis (todos os parâmetros são opcionais)\r\n\r\nParâmetro   |  Descrição e opções\r\n---------   |  ------------------\r\nfilter      | featured, new, free_shipping, promotion, available\r\nlimit       | Quantidade máxima de produtos que será retornada\r\norder       | id, name, price, created\r\ncategories  | ID da categoria\r\nbrands      | String da marca\r\n\r\n**Obs:** É possível realizar múltiplas ordenações, conforme exemplo:\r\n```twig\r\n{% set products = Products({\r\n    'order': {\r\n        'quantity_sold': 'desc',\r\n        'name': 'asc',\r\n        'id': 'desc'\r\n    }\r\n}) %}\r\n```\r\n\r\nAs requisições de produtos sempre retornarão um array de dados onde cada chave está descrita abaixo.\r\n\r\nChaves            | Descrição\r\n------            | ---------\r\nid                | Identificador único do produto\r\nname              | Nome do produto\r\ncategory_id       | Identificador único da categoria principal do produto\r\nprice             | Valor do produto\r\nprice_offer       | Valor do produto em promoção\r\nlink              | Link para a página do produto\r\navailable         | Disponibilidade do produto\r\nstock             | Quantidade de produtos em estoque\r\nfeatured          | Retorna verdadeiro se for destaque\r\nnew               | Retorna verdadeiro se for lançamento\r\nfree_shipping     | Retorna verdadeiro se possuir frete grátis\r\nadditional_button | Retorna verdadeiro se possuir botão adicional cadastrado\r\n\r\n##### Imagens\r\nInformações sobre as imagens dos produtos.\r\n\r\nChaves            | Descrição\r\n------            | ---------\r\nsmall             | Retorna a imagem do produto em tamanho 30x30\r\nmedium            | Retorna a imagem do produto em tamanho 90x90\r\nlarge             | Retorna a imagem do produto em tamanho 180x180\r\nfull              | Retorna a imagem do produto em tamanho original\r\n\r\n##### Exemplos\r\n```twig\r\n{% set products = Products({'filter': 'featured'}) %}\r\n\r\n{% for product in products %}\r\n    {{ product.id }}\r\n    {{ product.name }}\r\n    {{ product.category_id }}\r\n    {% for image in product.images %}\r\n        <img src=\"{{ image.small }}\" alt=\"\">\r\n        <img src=\"{{ image.medium }}\" alt=\"\">\r\n        <img src=\"{{ image.large }}\" alt=\"\">\r\n        <img src=\"{{ image.full }}\" alt=\"\">\r\n    {% endfor %}\r\n    {{ product.price }}\r\n    {{ product.price_offer }}\r\n    {{ product.link }}\r\n    {{ product.available }}\r\n    {{ product.stock }}\r\n    {{ product.featured }}\r\n    {{ product.new }}\r\n    {{ product.free_shipping }}\r\n    {{ product.additional_button }}\r\n    {{ product.quantity_sold }}\r\n{% endfor %}\r\n\r\n{% if product.price_offer > 0 %}\r\n    Esse produto está em promoção, por isso vamos mostrar uma imagem grande:\r\n    <img src=\"{{ product.images[0].full }}\" alt=\"{{ product.name }}\">\r\n{% endfor %}\r\n```\r\n\r\n#### Seals\r\nA Tray possui integração com 2 selos: [Loja Protegida](http://www.lojaprotegida.com.br/) e [Ebit](http://www.ebit.com.br/).\r\n\r\nChaves     | Descrição \r\n------     | ---------\r\nebit       | Retorna o HTML do selo do Ebit\r\nhackersafe | Retorna o HTML do selo Loja Protegida\r\n\r\n##### Exemplos\r\n```twig\r\n{{ seals.ebit }}\r\n{{ seals.hackersafe }}\r\n```\r\n\r\n#### Settings\r\nExistem algumas opções de nossos recursos que podem ser encontrados aqui. Em breve mais informações.\r\n\r\n#### Store\r\nInformações básicas da loja.\r\n\r\nChaves     | Descrição \r\n------     | ---------\r\nid         | Identificador único da loja\r\nname       | Nome da loja\r\nurl        | URL da loja\r\nchat       | Retorna o conteúdo do campo \"Atendimento Online\" cadastrado no Painel Administrativo\r\n\r\n##### Exemplos\r\n```twig\r\n{{ store.name }}\r\n{{ store.id }}\r\n{{ store.url }}\r\n{{ store.chat }}\r\n```\r\n\r\n#### Tags\r\nLista de palavras mais buscadas na loja.\r\n\r\nChaves      | Descrição\r\n------      | ---------\r\nfont_size   | Tamanho da fonte com base na quantidade de vezes que foi buscada\r\nurl         | URL para a página de busca\r\nword        | Palavra buscada\r\n\r\n##### Exemplos\r\n```twig\r\n{% for tag in tags %}\r\n    <a href=\"{{ tag.url }}\" style=\"font-size: {{ tag.font_size }}%\">{{ tag.word }}</a>\r\n{% endfor %}\r\n```\r\n\r\n#### Theme Path\r\nCaminho absoluto do tema para ser utilizado juntamente com seus assets.\r\n\r\n```twig\r\n<img src=\"{{ themePath }}img/my-image.png\" alt=\"\">\r\n<script src=\"{{ themePath }}js/my-script.js\"></script>\r\n<link href=\"{{ themePath }}css/my-style.css\" rel=\"stylesheet\" type=\"text/css\">\r\n```\r\n\r\n#### Translation\r\nExibe um texto de acordo com o idioma configurado na sua loja no Painel Administrativo.\r\n\r\n##### Exemplos\r\n```twig\r\nTranslation('key')\r\n```\r\n\r\n#### Utils\r\nUtilidades técnicas.\r\n\r\nChaves         | Descrição  \r\n------         | ---------\r\nassets_version | Hash para arquivos estáticos devido a cache\r\nis_https       | Verifica se está em ambiente seguro\r\n\r\n##### Exemplos\r\n```twig\r\n<script src=\"my.js?{{ utils.assets_version }}\"></script>\r\n<link href=\"my.css?{{ utils.assets_version }}\" rel=\"stylesheet\"/>\r\n\r\n{% if utils.is_https %}\r\n    Fique tranquilo, você está navegando em um ambiente seguro!\r\n{% endif %}\r\n```\r\n\r\n## Módulos JavaScript\r\n\r\nTodos os nossos módulos trabalham com [atributos de dados](http://www.w3.org/html/wg/drafts/html/master/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes), sem precisar escrever linhas de JavaScript para que eles funcionem. Veja a lista de módulos disponíveis:\r\n\r\n* banner\r\n* cart\r\n* customer\r\n* filter\r\n* search\r\n\r\n### Banner\r\n\r\nPara mais informações, visite a [Wiki](http://wiki.tray.com.br/documentacao/cadastrar-banners/).\r\n\r\n#### Banner Pop up\r\n\r\nO banner pop up abre-se em uma nova janela do navegador, no momento em que a loja virtual é aberta.\r\n\r\nAtributos   | Descrição\r\n---------   | ---------\r\ndata-banner | Posição do banner (ex: `popup`, `gallery`)\r\ndata-width  | Largura do banner\r\ndata-height | Altura do banner\r\ndata-top    | Distância vertical entre o topo até o início do banner\r\ndata-left   | Distância horizontal da esquerda até o início do banner\r\ndata-url    | URL do banner que será carregada na Pop-Up\r\n\r\n##### Exemplos\r\n```HTML\r\n<div data-banner=\"popup\" data-width=\"200\" data-height=\"200\" data-top=\"400\" data-left=\"400\"></div>\r\n```\r\n\r\n#### Banner Gallery\r\n\r\nPara mais informações, visite a [Wiki](http://wiki.tray.com.br/documentacao/cadastrar-banners/#cadastrar-galeria)\r\n\r\nAtributos   | Descrição\r\n---------   | ---------\r\ndata-banner | Posição do banner (ex: `popup`, `gallery`)\r\ndata-id     | Identificador único do banner\r\n\r\n##### Exemplos\r\n```twig\r\n<div data-banner=\"gallery\" data-id=\"1\"></div>\r\n```\r\n\r\n### Cart\r\n\r\nPara contornar o cache, utilize essa marcação para exibir os dados do carrinho atualizados.\r\n\r\n##### Exemplos\r\n```twig\r\n<span data-cart=\"amount\">{{ cart.amount }}</span>\r\n<span data-cart=\"price\">{{ cart.price }}</span>\r\n```\r\n\r\n### Customer\r\n\r\nPara contornar o cache, utilize essa marcação para exibir o nome do cliente logado.\r\n\r\n##### Exemplos\r\n```twig\r\n<span data-customer=\"name\">{{ customer.name }}</span>\r\n```\r\n\r\n### Filter\r\n\r\nNas páginas de catálogo e busca, você poderá filtrar os produtos exibidos e ordená-los. Quando adicionar o atributo `data-form=\"filter\"` em um formulário, ele iniciará o módulo filter. Esse módulo fará com que sempre que um `<select>` for alterado (onchange), o formulário seja submetido e recarregue os produtos.\r\n\r\n##### Exemplos\r\n```twig\r\n<form data-form=\"filter\">\r\n    <select></select>\r\n</form>\r\n```\r\n\r\n### Search (Suggestion)\r\n\r\nPara mais informações, visite a [Wiki](http://wiki.tray.com.br/documentacao/sistema-de-busca-inteligente/#auto-sugestao)\r\n\r\nAtributos   | Descrição\r\n---------   | ---------\r\ndata-search | Tipo da busca (ex: `suggestion`)\r\ndata-input  | Caixa de texto principal (ex: `suggestion`)\r\n\r\n##### Exemplos\r\n```twig\r\n<form data-search=\"suggestion\">\r\n    <input data-input=\"suggestion\" type=\"text\">\r\n</form>\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}